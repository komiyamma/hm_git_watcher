<html>
<head>
<style>
</style>
<script>
var idCallback=0; //idCallbackは、ページ表示後にマクロ側からjavascript: で設定される
function HmGitWatcher_PushBotton(s){
  //document.body.insertAdjacentHTML("beforeend", "["+idCallback+"]<BR>");
  window.chrome.webview.postMessage({funcid:idCallback,message:localDiff+":"+remoteDiff});
}

var localDiff = 0;
var remoteDiff = 0;
function HmGitWatcher_Update(_localDiff, _remoteDiff) {
    localDiff = _localDiff;
    if (localDiff > 0) {
		document.getElementById('commit_all').disable = false;
    } else {
		document.getElementById('commit_all').disable = truue;
    }

    remoteDiff = _remoteDiff;
    if (remoteDiff > 0) {
		document.getElementById('push_all').disable = false;
    } else {
		document.getElementById('push_all').disable = true;
    }

}

</script>
</head>
<body>
<button id="commit_all" type="button" onclick="HmGitWatcher_PushBotton('commit_all');">
  <img src="./icon/icon_commit.png" alt="全てコミット">
</button>
<button id="push_all" type="button" onclick="HmGitWatcher_PushBotton('push_all');">
  <img src="./icon/icon_push.png" alt="全てプッシュ">
</button>
</body>
</html>
